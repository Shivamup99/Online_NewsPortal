function _frkGenerateGuid(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}var _frkSSid=null;_addfrkLog("SCRIPT_LOAD",null,_frkGetParameterByName("publisher",document.getElementById("_forkIAVScript").src));var _ForkAd=null,ForkAd=function(){this.closeState=!0,this.playState=!1,this.frameDom=null,this.adScrollEventHandler=null,this.adTouchEventHandler=null,this.newFormat=!1,this.scriptTagId="_forkIAVScript",this.injectionSelector=null,this.secondarySelector=null,this.domManipulatorString=null,this.mainContainerId="_forkInArticleAdContainer",this.adServerURL="//wtf2.forkcdn.com/www/delivery/asyncjs.php",this.interactionTrackUrl="//vibe.forkcdn.com/inarticle/event",this.impressionTrackingUrl="//vibe.forkcdn.com/inarticle/consumed",this.publisher=null,this.zoneId="1",this.reviveId="e91f95c5fd756b81263fe39d57b4175c",this.mainAdContainer=null,this.campaign=null,this.mainAdContainerStyles={transition:"height 0.75s ease",borderTop:"1px solid #eee",overflow:"hidden",borderBottom:"1px solid #eee"},this.newAdContainerStyles={position:"relative",overflow:"hidden",transition:"height 0.25s ease",borderTop:"1px solid #eee",borderBottom:"1px solid #eee",bottom:"0px"},this.reviveTagStyles={backgroundColor:"transparent!important"},this.demoAdContainerStyles={position:"fixed",width:"300px",borderBottom:"0px",borderTop:"0px",height:"270px",zIndex:"100000",right:"4px",bottom:"2px"},this.currentPositionSide=!1,this.dummyViewContainer=null,this.canLoad=!1,this.shouldSideView=!1,this.scrollTopConstant=0,this.scrollConstant=25,this.scrollTop=0,this.scrollDirection="down",this.currentScript=null,this.logArray=[],this.isDebug=!1,this.isAdInjected=!1,this.document=window.parent.document,this.window=window.parent,this.tpuObj={}};function transferKeys(t,e){return"object"==typeof t&&"object"==typeof e&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function setKeyWordAttribute(t,e){if("object"==typeof e)for(var n in e){var o=null;e[n]&&("[object Array]"===Object.prototype.toString.call(e[n])?e[n].length>0&&(o=e[n].join(",")):"string"==typeof e[n]&&(o=e[n])),null!==o&&t.setAttribute("data-revive-"+n,o)}else e&&t.setAttribute("data-revive-entity",e);return t}function getForkAd(){return _ForkAd=new ForkAd}function _frkGetParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function _frkisIE(t){return!!document.all}function isIA(t){return(t=t||navigator.userAgent).indexOf("FB_IAB/")>-1||t.indexOf("FBAV/")>-1||t.indexOf("FB4A")>-1}function isDFP(t){if("partner.googleadservices.com"==(t=t||window.top.location.hostname))return!0}function _frkCodeLoad(){var t=document.getElementById("_forkIAVScript");_addfrkLog("CODE_LOAD",null,_frkGetParameterByName("publisher",t.src));var e=null;if(t){var n=null,o=t.src;if(null==e)if(null!=_frkGetParameterByName("selector",n=o)?(e={}).selector=_frkGetParameterByName("selector",n):null!=_frkGetParameterByName("currentScript",n)?(e={}).currentScript=_frkGetParameterByName("currentScript",n):null!=_frkGetParameterByName("publisher",n)&&((e={}).currentScript=_frkGetParameterByName("publisher",n)),null!=e)null!=_frkGetParameterByName("publisher",n)&&(e.publisher=_frkGetParameterByName("publisher",n)),null!=_frkGetParameterByName("zoneId",n)?e.zoneId=_frkGetParameterByName("zoneId",n):e.zoneId=1,"true"==_frkGetParameterByName("forkPurpose",window.top.location.href)&&"true"==_frkGetParameterByName("useRevive",window.top.location.href)&&null!=_frkGetParameterByName("zonePlacementUnique",window.top.location.href)&&(e.zoneId=_frkGetParameterByName("zonePlacementUnique",window.top.location.href)),getForkAd().init(e);else console.log("Fork Script Couldnt Initialize. Please Contact ForkMedia.")}}function EmbedComScore(){ComscoreEmbed(),EmbedNoScriptComScore()}function ComscoreEmbed(){var t=document.createElement("script"),e=document.getElementsByTagName("script")[0];t.async=!0,t.src=("https:"==document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",e.parentNode.insertBefore(t,e)}function EmbedNoScriptComScore(){var t=document.createElement("noscript"),e=document.createElement("img");"http:"==document.location.protocol&&(e.src="http://b.scorecardresearch.com/p?c1=8&c2=19888642&c3=2&ns_ap_it=b&rn="+(new Date).getTime()),"https:"==document.location.protocol&&(e.src="https://sb.scorecardresearch.com/p?c1=8&c2=19888642&c3=2&c15=&cv=2.0&cj=1&c4="+encodeURI(window.location.href)+"&ns_ap_it=b&rn="+(new Date).getTime()),t.appendChild(e);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function _addfrkLog(t,e,n){}ForkAd.prototype._domManupilationFunction=function(){var mainContext=this;try{var result=eval(this.domManipulatorString)}catch(t){return console.log("Error occured at dom manipulation "+t),!1}return!0},ForkAd.prototype._pageInfoRet=function(){var t=this,e=window.top.location.host+window.top.location.pathname;if(!(["gulfnews.com/leisure/the-making-of-dubai-garden-glow-1.2127036","gulfnews.com/leisure/motoring/colossus-of-comfort-the-2018-infiniti-qx80-1.2127052","gulfnews.com/business/sectors/technology/huawei-mate-10-series-everything-you-need-and-more-1.2127001","gulfnews.com/sport/meet-williams-f1-drivers-felipe-massa-and-lance-stroll-in-abu-dhabi-today-1.2128628","gulfnews.com/better-health","gulfnews.com/leisure/events/double-the-fun-this-national-day-at-yas-island-1.2128749","www.khaleejtimes.com/sponsored-content//double-the-fun-at-yas-waterworld-and-ferrari-world-abu-dhabi-with-uae-national-day-residents-offer","gulfnews.com/business/money/seven-steps-to-save-money-in-the-uae-1.2129416","gulfnews.com/life-style/shopping/take-a-festive-family-selfie-tour-at-burjuman-1.2128646","www.india.com/news/auto-expo-2018","gulfnews.com/leisure/get-ready-to-go-brrr-1.2166593"].indexOf(e)>=0)){for(var n=["gulfnews.com/better-health/"],o=0;o<n.length;o++)if(e.match(n[o]))return;var i=t.domFinder(),r={publisher:t.publisher,url:t.document.location.href,hostName:t.document.location.hostname};i&&(r.title=i.title,r.articleContent=i.body,r.imagesrc=i.imagesrc,t.secondarySelector=i.injectionSelector),this._ajax(("https:"==document.location.protocol?"https://":"http://")+"//vibe.forkcdn.com/inarticle/process","POST",r,null,function(e){if(e.success){t.injectionSelector=e.injectionSelector,t.domManipulatorString=e.domManupilationFunction;t._domManupilationFunction();var n=_frkGetParameterByName("zonePlacementUnique",window.top.location.href);t.zoneId=n||e.zoneId,t.tpuObj=transferKeys(t.tpuObj,e.processData.entityObj),t.tpuObj=transferKeys(t.tpuObj,e.processData.tpuObj),e.processData.imgObj.tags&&(t.tpuObj.imgTags=e.processData.imgObj.tags),e.processData.categoryObj.category&&(t.tpuObj.category=e.processData.categoryObj.category),e.processData.pubCategory&&("object"==typeof t.tpuObj.category?t.tpuObj.category.push(e.processData.pubCategory):t.tpuObj.category=[e.processData.pubCategory]),e.currentScript&&(t.currentScript=!0);var o=t.findInjectionContainer();_frkisIE()?_addfrkLog("NOT_SUPPORTED_BROWSER",null,t.publisher):null==o?(t.log("Selector Element for Injection not found. Please contact Fork Media for Template Change",!0),_addfrkLog("NO_SELECTOR",null,t.publisher)):t.insertAdContainer(o)?(t.log("Container is Injected"),t.log(t.mainAdContainer),e.scrollCheck?t.callEvent_("LoadScrollListener"):t.adInjectionLogic()):t.log("Ad Container Could not Be injected",null)}else{_addfrkLog("PROCESS_ERROR",e.data,t.publisher);n=_frkGetParameterByName("zonePlacementUnique",window.top.location.href);t.zoneId=n||"3310";o=t.findInjectionContainer();t.insertAdContainer(o)?(t.log("Container is Injected"),t.log(t.mainAdContainer),e.scrollCheck?t.callEvent_("LoadScrollListener"):t.adInjectionLogic()):t.log("Ad Container Could not Be injected",null)}})}},ForkAd.prototype.findInjectionContainer=function(){var t=this,e=null,n=_frkGetParameterByName("selector",window.top.location.href);if(n)t.injectionSelector=n,e=t.document.querySelector(n);else{if(this.injectionSelector){if("[object Array]"==Object.prototype.toString.call(t.injectionSelector)){if(t.injectionSelector.length>0){for(var o=0;o<t.injectionSelector.length;o++)if(e=t.document.querySelector(t.injectionSelector[o])){if(t.document.querySelector("#_forkInArticleAdContainer"))return null;break}return!e&&t.secondarySelector&&"string"==typeof t.secondarySelector&&"undefined"!=t.secondarySelector&&(e=t.document.querySelector(t.secondarySelector))&&(t.injectionSelector=t.secondarySelector),e}return null!=t.secondarySelector&&(e=t.document.querySelector(t.secondarySelector),t.injectionSelector=t.secondarySelector),e}return"[object String]"==Object.prototype.toString.call(t.injectionSelector)&&(e=t.document.querySelector(t.injectionSelector)),e}null!=t.secondarySelector&&(t.injectionSelector=t.secondarySelector,e=t.document.querySelector(t.secondarySelector))}return e},ForkAd.prototype.logicInit=function(){return"/"!=window.top.location.pathname&&(["www.indias.com"].indexOf(window.top.location.hostname)>=0?"/"!=window.top.location.pathname[window.top.location.pathname.length-1]&&window.top.location.pathname.split("/").length>=2:"/"==window.top.location.pathname[window.top.location.pathname.length-1]&&window.top.location.pathname.split("/").length>=4||("/"!=window.top.location.pathname[window.top.location.pathname.length-1]&&window.top.location.pathname.split("/").length>=3||["bollyworm.com","gaadiwaadi.com","www.rushlane.com","www.ibtimes.co.in","www.tbreak.com","www.bollywoodcat.com","www.movified.com","newmorningnews.com","kolkatafeed.com","www.onlymyhealth.com","www.healthunbox.com","www.teluguglobal.in","www.ammamalayalamonline.com"].indexOf(window.top.location.hostname)>=0))},ForkAd.prototype.domFinder=function(){if(this.logicInit()){window.top.document.documentElement.scrollHeight,window.top.document.documentElement.scrollWidth;for(var t=window.top.window.innerHeight,e=(window.top.window.innerWidth,2*t),n={title:null,body:null,injectionSelector:null,imagesrc:null},o=null,i=null,r=null,a=1;a<=6;a++){o=window.top.document.getElementsByTagName("h"+a),i=null,r=-1;for(var s=0;s<o.length;s++){var l=window.top.document.body.getBoundingClientRect(),c=(S=o[s].getBoundingClientRect()).height*S.width;S.top-l.top<=e&&c>r&&(r=c,i=o[s])}if(i)break}for(var d=window.top.document.getElementsByTagName("img"),h=-1,u=null,p=0;p<d.length;p++){l=window.top.document.body.getBoundingClientRect();var m=d[p].getBoundingClientRect();if(m.top-l.top<=e){var f=m.width*m.height;f>h&&(u=d[p],h=f)}}if(u&&(n.imagesrc=u.src),!i)return n.title=window.top.document.title?window.top.document.title:"NO_TITLE_FOUND",n.body=window.top.document.body.innerText,n;n.title=i.innerText;l=window.top.document.body.getBoundingClientRect();var g=((S=i.getBoundingClientRect()).top-l.top+e)/2,w=window.top.document.getElementsByTagName("p"),y=-1,v=null,b=Math.pow(2,32)-1;for(p=0;p<w.length;p++)if("none"!=w[p].style.display){l=window.top.document.body.getBoundingClientRect();var S,A=(S=i.getBoundingClientRect()).top-l.top,C=w[p].getBoundingClientRect();if(C.top-l.top>=A&&C.top-l.top<=e){var k=C.width*C.height,E=Math.abs(C.top-l.top-g);k>=y&&E<b&&(y=k,b=E,v=w[p])}}return v?(n.injectionSelector=this.getSelector(v),n.body=v.parentElement.innerText):u&&(n.body=this.secondaryDomFinder(u),n.injectionSelector=this.getSelector(n.body)),n}return null},ForkAd.prototype.secondaryDomFinder=function(t){for(var e=t.parentElement;e.innerText.length<200;)e=e.parentElement;return e},ForkAd.prototype.getSelector=function(t){var e,n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};return e=function(){function t(t){null==t&&(t={}),this.options={},this.setOptions(this.default_options),this.setOptions(t)}return t.prototype.default_options={selectors:["id","class","tag","nthchild"]},t.prototype.setOptions=function(t){var e,n,o;null==t&&(t={}),n=[];for(e in t)o=t[e],this.default_options.hasOwnProperty(e)?n.push(this.options[e]=o):n.push(void 0);return n},t.prototype.isElement=function(t){return!(1!==(null!=t?t.nodeType:void 0))},t.prototype.getParents=function(t){var e,n;if(n=[],this.isElement(t))for(e=t;this.isElement(e);)n.push(e),e=e.parentNode;return n},t.prototype.getTagSelector=function(t){return this.sanitizeItem(t.tagName.toLowerCase())},t.prototype.sanitizeItem=function(t){return t.split("").map(function(t){return":"===t?"\\"+":".charCodeAt(0).toString(16).toUpperCase()+" ":/[ !"#$%&'()*+,.\/;<=>?@\[\\\]^`{|}~]/.test(t)?"\\"+t:escape(t).replace(/\%/g,"\\")}).join("")},t.prototype.getIdSelector=function(t){var e,n;return null==(e=t.getAttribute("id"))||""===e||/\s/.exec(e)||/^\d/.exec(e)||(n="#"+this.sanitizeItem(e),1!==t.ownerDocument.querySelectorAll(n).length)?null:n},t.prototype.getClassSelectors=function(t){var e,n,o;return o=[],null!=(e=t.getAttribute("class"))&&""!==(e=(e=e.replace(/\s+/g," ")).replace(/^\s|\s$/g,""))&&(o=function(){var t,o,i,r;for(r=[],t=0,o=(i=e.split(/\s+/)).length;t<o;t++)n=i[t],r.push("."+this.sanitizeItem(n));return r}.call(this)),o},t.prototype.getAttributeSelectors=function(t){var e,o,i,r,a,s,l;for(l=[],o=["id","class"],i=0,r=(a=t.attributes).length;i<r;i++)s=(e=a[i]).nodeName,n.call(o,s)<0&&l.push("["+e.nodeName+"="+e.nodeValue+"]");return l},t.prototype.getNthChildSelector=function(t){var e,n,o,i,r,a;if(null!=(i=t.parentNode))for(e=0,n=0,o=(a=i.childNodes).length;n<o;n++)if(r=a[n],this.isElement(r)&&(e++,r===t))return t.tagName.toLowerCase()+":nth-child("+e+")";return null},t.prototype.testSelector=function(t,e){var n,o;return n=!1,null!=e&&""!==e&&1===(o=t.ownerDocument.querySelectorAll(e)).length&&o[0]===t&&(n=!0),n},t.prototype.getAllSelectors=function(t){var e;return e={t:null,i:null,c:null,a:null,n:null},n.call(this.options.selectors,"tag")>=0&&(e.t=this.getTagSelector(t)),n.call(this.options.selectors,"id")>=0&&(e.i=this.getIdSelector(t)),n.call(this.options.selectors,"attribute")>=0&&(e.a=this.getAttributeSelectors(t)),n.call(this.options.selectors,"nthchild")>=0&&(e.n=this.getNthChildSelector(t)),e},t.prototype.testUniqueness=function(t,e){var n,o;return!(!(o=t.parentNode)||!e)&&(1===(n=o.querySelectorAll(e)).length&&n[0]===t)},t.prototype.testCombinations=function(t,e,n){var o,i,r,a,s,l,c;for(i=0,a=(l=this.getCombinations(e)).length;i<a;i++)if(o=l[i],this.testUniqueness(t,o))return o;if(null!=n)for(r=0,s=(c=e.map(function(t){return n+t})).length;r<s;r++)if(o=c[r],this.testUniqueness(t,o))return o;return null},t.prototype.getUniqueSelector=function(t){var e,n,o,i,r;for(r=this.getAllSelectors(t),n=0,o=(i=this.options.selectors).length;n<o;n++)switch(i[n]){case"id":if(null!=r.i)return r.i;break;case"tag":if(null!=r.t&&this.testUniqueness(t,r.t))return r.t;break;case"class":if(null!=r.c&&0!==r.c.length&&(e=this.testCombinations(t,r.c,r.t)))return e;break;case"attribute":if(null!=r.a&&0!==r.a.length&&(e=this.testCombinations(t,r.a,r.t)))return e;break;case"nthchild":if(null!=r.n)return r.n}return"*"},t.prototype.getSelector=function(t){var e,n,o,i,r,a,s,l,c,d;for(e=[],o=0,r=(s=this.getParents(t)).length;o<r;o++)n=s[o],null!=(c=this.getUniqueSelector(n))&&e.push(c);for(d=[],i=0,a=e.length;i<a;i++)if(n=e[i],d.unshift(n),l=d.join(" > "),this.testSelector(t,l))return l;return null},t.prototype.getCombinations=function(t){var e,n,o,i,r,a,s;for(null==t&&(t=[]),s=[[]],e=o=0,r=t.length-1;0<=r?o<=r:o>=r;e=0<=r?++o:--o)for(n=i=0,a=s.length-1;0<=a?i<=a:i>=a;n=0<=a?++i:--i)s.push(s[n].concat(t[e]));return s.shift(),s=(s=s.sort(function(t,e){return t.length-e.length})).map(function(t){return t.join("")})},t}(),("undefined"!=typeof define&&null!==define?define.amd:void 0)?define([],function(){return e}):("undefined"!=typeof exports&&null!==exports?exports:this).CssSelectorGenerator=e,t&&(new e).getSelector(t)||null},ForkAd.prototype._ajax=function(t,e,n,o,i){var r;(r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==r.readyState&&200==r.status?i(JSON.parse(r.responseText)):404==r.status&&i({success:!1})},r.open(e,t,!0),r.setRequestHeader("Content-type","application/json; charset=utf-8"),r.send(JSON.stringify(n))},ForkAd.prototype.error=function(t){this.err=encodeURI(t),this.url=encodeURI(window.top.location.href);var e=document.createElement("img");e.width="1px",e.height="1px",e.src="//vibe.forkcdn.com/error?err="+this.err+"&websiteUrl="+this.url+"&publisher="+this.publisher,document.body.appendChild(e)},ForkAd.prototype.init=function(t){if(null!=t){var e=this;this.publisher=t.publisher,this._pageInfoRet()}else this.log("Configurational Object Not Fed. Please Change Get Implementaion Method Sorted",!1),_addfrkLog("NO_CONFIG",null,e.publisher)},ForkAd.prototype.mobileAndTabletcheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},ForkAd.prototype.eventList={ScriptLoad:function(){},LoadScrollListener:function(){_addfrkLog("SCROLL_LISTENER_ATTACHED",null,this.publisher),this.document.addEventListener("scroll",this.scrollEventHandler.bind(this))},AdLoaded:function(t){campaign=t.campaign||null,this.campaign=campaign,format=t.format||null,this.shouldSideView="true"==(!!t.data&&(!!t.data.sideView&&t.data.sideView)),this.mobileAndTabletcheck()&&(this.shouldSideView=!1),"newFormat"==format&&(this.frameDom=this.document.querySelector("#_forkInArticleAdContainer iframe"),this.newFormat=!0,this.closeState=!1),this.alterContainerFoundation(),this.injectImpressionPixel(campaign),this.adScrollEventHandler=this.eventList.Scroll.bind(this),this.adTouchEventHandler=this.eventList.touchstart.bind(this),this.callEvent_("CreativeLoadInit"),this.document.addEventListener("scroll",this.adScrollEventHandler),this.document.addEventListener("touchstart",this.adTouchEventHandler),this.raiseCreativeEvent_("OutsideScroll")},CreativeLoadInit:function(){var t=this.window.innerHeight+(void 0!==this.window.pageYOffset?this.window.pageYOffset:(this.document.documentElement||this.document.body.parentNode||this.document.body).scrollTop);t>=this.getAbsolutePosition(this.dummyViewContainer).y+this.scrollConstant&&t-this.window.innerHeight<this.getAbsolutePosition(this.dummyViewContainer).y+this.getAdDimension().height-this.scrollConstant?this.raiseCreativeEvent_("WithinScroll"):this.raiseCreativeEvent_("OutsideScroll")},AdComplete:function(){this.destroyContainerAndRemoveListeners()},AdReplay:function(t){campaign=t.campaign||null,this.campaign=campaign,format=t.format||null,this.shouldSideView="true"==(!!t.data&&(!!t.data.sideView&&t.data.sideView)),this.mobileAndTabletcheck()&&(this.shouldSideView=!1),"newFormat"==format&&(this.frameDom=this.document.querySelector("#_forkInArticleAdContainer iframe"),this.newFormat=!0,this.closeState=!1),this.alterContainerFoundation(),this.callEvent_("CreativeLoadInit"),this.adScrollEventHandler=this.eventList.Scroll.bind(this),this.adTouchEventHandler=this.eventList.touchstart.bind(this),this.document.addEventListener("scroll",this.adScrollEventHandler),this.document.addEventListener("touchstart",this.adTouchEventHandler)},AdClose:function(){this.destroyContainerAndRemoveListeners()},touchstart:function(t){this.raiseCreativeEvent_("Touched")},Scroll:function(t){if(this.shouldSideView){var e=window.pageYOffset||document.documentElement.scrollTop;e>this.scrollTop?this.scrollDirection="down":this.scrollDirection="up",this.scrollTop=e}var n=this.window.innerHeight+(void 0!==this.window.pageYOffset?this.window.pageYOffset:(this.document.documentElement||this.document.body.parentNode||this.document.body).scrollTop);n>=this.getAbsolutePosition(this.dummyViewContainer).y+this.scrollConstant&&n-this.window.innerHeight<this.getAbsolutePosition(this.dummyViewContainer).y+this.getAdDimension().height-this.scrollConstant?(this.raiseCreativeEvent_("WithinScroll"),this.canLoad||(this.injectInteractionPixel(this.campaign,"AdInView"),this.canLoad=!0),this.currentPositionSide&&this.canLoad&&this.shouldSideView&&("up"==this.scrollDirection&&window.scrollBy(0,-this.scrollTopConstant),this.mainAdContainer=this.applyStyle(this.mainAdContainer,this.newAdContainerStyles),this.mainAdContainer.style.bottom=this.newAdContainerStyles.bottom,this.currentPositionSide=!1)):(!this.currentPositionSide&&this.canLoad&&this.shouldSideView&&(this.raiseCreativeEvent_("WithinScroll"),this.mainAdContainer=this.applyStyle(this.mainAdContainer,this.demoAdContainerStyles),this.currentPositionSide=!0),this.shouldSideView&&this.canLoad||this.raiseCreativeEvent_("OutsideScroll"))},Messages:function(t){t.data.source&&"forkAdFrameWork"==t.data.source&&("AdStarted"==t.data.event?(_addfrkLog("AD_IMPRESSION",null,this.publisher),this.callEvent_("AdLoaded",t.data)):"AdComplete"==t.data.event?(_addfrkLog("AD_PLAY_COMPLETE",null,this.publisher),this.callEvent_("AdComplete"),this.injectInteractionPixel(t.data.campaign,t.data.event)):"AdClose"==t.data.event?(this.callEvent_("AdClose"),this.injectInteractionPixel(t.data.campaign,t.data.event)):"AdReplay"==t.data.event?(this.callEvent_("AdReplay",t.data),this.injectInteractionPixel(t.data.campaign,t.data.event)):this.injectInteractionPixel(t.data.campaign,t.data.event))}},ForkAd.prototype.destroyContainerAndRemoveListeners=function(){this.document.removeEventListener("scroll",this.adScrollEventHandler);var t=this.document.querySelector("#"+this.mainContainerId+" iframe");t&&this.applyStyle(t,{minHeight:"100%"}),this.campaign=null,this.newFormat?(this.shouldSideView&&(this.applyStyle(this.mainAdContainer,this.newAdContainerStyles),this.shouldSideView=!1),this.mainAdContainer.style.height="60px"):this.mainAdContainer.style.height="0px",this.mainAdContainer.style.border="0px"},ForkAd.prototype.injectImpressionPixel=function(t){if(t){var e=document.createElement("img");return e.src=this.impressionTrackingUrl+"?campaignId="+t+"&cab="+(new Date).getTime()+"&website="+window.location.hostname+"&publisher="+this.publisher,e.width=1,e.height=1,document.getElementsByTagName("body")[0].appendChild(e),!0}return!1},ForkAd.prototype.injectInteractionPixel=function(t,e){var n=document.createElement("img");n.width=1,n.height=1,n.src=this.interactionTrackUrl+"?campaignName="+t+"&interactionType="+e+"&cab="+(new Date).getTime()+"&publisher="+this.publisher,document.body.appendChild(n)},ForkAd.prototype.raiseCreativeEvent_=function(t,e){var n={source:"forkAdDriver"},o=this.document.querySelector("#_forkInArticleAdContainer iframe");return!!o&&(!!t&&(n.event=t,e&&(n.data=e),o.contentWindow.postMessage(n,"*"),!0))},ForkAd.prototype.alterContainerFoundation=function(){var t=this.getAdDimension();this.newFormat?this.mainAdContainer=this.applyStyle(this.mainAdContainer,this.newAdContainerStyles):this.mainAdContainer=this.applyStyle(this.mainAdContainer,this.mainAdContainerStyles),this.newAdContainerStyles.width=t.width+"px",this.newAdContainerStyles.height=t.height+"px",this.scrollTopConstant=t.height/2,this.mainAdContainer.style.display="inline-block",this.mainAdContainer.style.width=t.width+"px",this.mainAdContainer.style.height=t.height+"px"},ForkAd.prototype.applyStyle=function(t,e){if(t.style){for(var n in e)t.style[n]=e[n];return t}return!1},ForkAd.prototype.wireEvents=function(){for(var t in this.eventList)this.eventList[t].bind(this)},ForkAd.prototype.callEvent_=function(t,e){t in this.eventList&&this.eventList[t].call(this,e)},ForkAd.prototype.getPosition=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:n}},ForkAd.prototype.getAbsolutePosition=function(t){var e={};for(e.x=t.offsetLeft,e.y=t.offsetTop;t.offsetParent&&(e.x=e.x+t.offsetParent.offsetLeft,e.y=e.y+t.offsetParent.offsetTop,t!=this.document.getElementsByTagName("body")[0]);)t=t.offsetParent;return e},ForkAd.prototype.insertAdContainer=function(t){if(t){var e=this.document.createElement("div"),n=this.document.createElement("div");return e.id=this.mainContainerId,n.style.with="0px",n.style.height="0px",n.style.display="block",e.style.width="0px",e.style.height="0px",this.currentScript?(t.parentElement.appendChild(n),t.parentElement.appendChild(e)):(t.appendChild(n),t.appendChild(e)),this.mainAdContainer=e,this.dummyViewContainer=n,!0}return!1},ForkAd.prototype.log=function(t,e){this.isDebug?console.log(t):e?console.log(t):this.logArray.push({message:t,time:new Date})},ForkAd.prototype.printLogs=function(){for(var t in this.logArray)console.log(t)},ForkAd.prototype.scrollEventHandler=function(t){if(this.isAdInjected){this.document.removeEventListener("scroll",this.scrollEventHandler.bind(this))}else{this.window.innerHeight+(void 0!==this.window.pageYOffset?this.window.pageYOffset:(this.document.documentElement||this.document.body.parentNode||this.document.body).scrollTop)>=this.getAbsolutePosition(this.mainAdContainer).y&&(this.log("Cutoff is cleared Calling For Ads."),this.adInjectionLogic())}},ForkAd.prototype.adInjectionLogic=function(){this.isAdInjected=!0;this.injectAdServerScript()?(this.injectAdTag(this.tpuObj),_addfrkLog("AD_SERVER_CALLED",null,this.publisher),window.parent.addEventListener("message",this.eventList.Messages.bind(this))):(this.log("Nothing Can be Done Now. It wont work"),_addfrkLog("AD_SERVER_CALLING_ERROR",null,this.publisher))},ForkAd.prototype.injectAdTag=function(t){if(this.mainAdContainer){var e=this.document.createElement("ins");return e.setAttribute("data-revive-zoneid",this.zoneId),e.setAttribute("data-revive-id",this.reviveId),t&&(e=setKeyWordAttribute(e,t)),e=this.applyStyle(e,this.reviveTagStyles),this.mainAdContainer.appendChild(e),!0}return!1},ForkAd.prototype.injectAdServerScript=function(){if(this.mainAdContainer){var t=this.document.createElement("script");return t.type="text/javascript",t.async=!0,t.src=this.adServerURL,this.mainAdContainer.appendChild(t),!0}return!1},ForkAd.prototype.getAdDimension=function(){window.innerHeight,window.innerWidth;var t,e=0;this.currentScript?e=(t=this.currentScript.parentNode).offsetWidth:((t=this.document.querySelector(this.injectionSelector))||(t=this.dummyViewContainer),e=t.offsetWidth);return this.newFormat?{width:e,height:e*(9/16)+97}:{width:e,height:e*(9/16)+80}},window.parent.document.onbeforeunload=function(){_addfrkLog("PAGE_UNLOAD",null,_frkGetParameterByName("publisher",document.getElementById("_forkIAVScript").src))},"complete"===document.readyState||"interactive"===document.readyState||"loaded"===document.readyState?(_frkCodeLoad(),EmbedComScore()):document.addEventListener("DOMContentLoaded",_frkCodeLoad,!1);